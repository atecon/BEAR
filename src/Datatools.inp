function void head (const numeric target,
                    const int nrows[1::5])
    /* Prints the initial rows of some series, list of matrix. */
    head_tail(target, nrows)
end function


function void tail (const numeric target,
                    const int nrows[1::5])
    /* Prints the last rows of some series, list of matrix. */
    head_tail(target, -nrows)
end function


function void head_tail (const numeric target, int nrows[::5])
    /* Return the first nrows rows of some series, list or matrix based on position.
    For negative values of nrows, this function returns the last |nrows| rows.
    If |nrows| is larger than the number of rows, this function returns all rows.
    If nrows  is zero, the function errors. */

    errorif(nrows == 0, "'nrows' cannot be zero")

    if typename(target) == "series" || typename(target) == "list"
        scalar nrows = abs(nrows) > $nobs ? sgn(nrows)*$nobs : nrows

        if nrows > 0
            print target --byobs --range=:nrows
        else
            print target --byobs --range=nrows:
        endif

    elif typename(target) == "matrix"
        scalar nrows = abs(nrows) > rows(target) ? sgn(nrows)*rows(target) : nrows

        if nrows > 0
            print target[1:nrows,]
        else
            scalar init = rows(target) + nrows + 1
            print target[init:,]
        endif

    endif
end function
